# Goal (одностраничник)

## Что это
- Долгосрочная цель “Ставка” (месяц/квартал) + кнопка “Готово”
- Цели на день + отметка “сделано сегодня”
- Сохранение “записи дня” (история)
- Streak-календарь: день закрашивается если есть **любая** запись в этот день
- TTL 36 часов: если не сохраняли действия > 36ч — данные очищаются

## Хранилище / синхронизация
- Источник правды: Supabase
- Локальное хранилище для состояния не используется (только облако)
- При отсутствии соединения показывается оффлайн-режим и предупреждение о несохранённых данных

## Supabase (рекомендуемая схема)
Таблица `goal_states`:
- user_id uuid primary key references auth.users(id)
- state jsonb not null
- updated_at timestamptz not null default now()

RLS включить.
Policies:
- select: auth.uid() = user_id
- insert: auth.uid() = user_id
- update: auth.uid() = user_id

