<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Goal ‚Äî –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –¶–µ–ª–∏ (–°—Ç–∞–≤–∫–∏) + –∑–∞–¥–∞—á–∏ –Ω–∞ –¥–µ–Ω—å</title>
  <link rel="stylesheet" href="./styles.css" />
	<link rel="icon" href="./favicon.ico" sizes="any">
</head>

<body>
  <div class="wrap">
    <header class="topbar">
      <div class="brand">
        <div class="logo"></div>
        <div class="goalSummaryStack">
          <div class="subtitle goalSummary" id="mandatoryGoalSummary">
            <button class="goalSummaryButton" id="mandatoryGoalSummaryBtn" type="button">–ú–æ—è —Ü–µ–ª—å</button>
            <span class="goalSummaryText" id="mandatoryGoalSummaryText">‚Äî</span>
            <button class="goalInfoButton" id="mandatoryGoalInfoBtn" type="button" aria-label="–î–µ—Ç–∞–ª–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–π —Ü–µ–ª–∏" hidden>‚ÑπÔ∏è</button>
            <div class="goalPopover" id="mandatoryGoalPopover" role="dialog" aria-live="polite" hidden></div>
          </div>
          <div class="subtitle goalSummary" id="principlesSummary">
            <button class="goalSummaryButton" id="principlesSummaryBtn" type="button">–ü—Ä–∏–Ω—Ü–∏–ø—ã</button>
            <button class="goalInfoButton" id="principlesInfoBtn" type="button" aria-label="–î–µ—Ç–∞–ª–∏ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤" hidden>‚ÑπÔ∏è</button>
            <div class="goalPopover" id="principlesPopover" role="dialog" aria-live="polite" hidden></div>
          </div>
        </div>
      </div>

      <div class="actions actionsStack">
        <div class="actionsRow">
          <button id="authStatusBtn" class="pill btn ghost" hidden>–ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–µ—Å—Å–∏—é‚Ä¶</button>
          <span id="netBadge" class="pill">–û—Ñ–ª–∞–π–Ω</span>
          <button id="btnLogin" class="pill btn">üîê –í–æ–π—Ç–∏</button>
          <button id="btnTheme" class="pill btn">üåì –¢–µ–º–∞</button>
        </div>
        <div class="actionsRow actionsRowAreas" aria-label="–°—Ñ–µ—Ä–∞ –∂–∏–∑–Ω–∏">
          <button class="pill btn areaSwitch" type="button" data-area="business">–§–∏–Ω–∞–Ω—Å—ã</button>
          <button class="pill btn areaSwitch" type="button" data-area="health">–ó–¥–æ—Ä–æ–≤—å–µ</button>
          <button class="pill btn areaSwitch" type="button" data-area="relationships">–û—Ç–Ω–æ—à–µ–Ω–∏—è</button>
        </div>
      </div>
    </header>

    <main class="grid">
      <section class="card" id="mainCard">
        <h2>–ó–∞–¥–∞—á–∏ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–µ–π</h2>
        <p class="muted">–î–æ–±–∞–≤–ª—è–π –¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ –∫–Ω–æ–ø–∫–æ–π ‚Äú+‚Äù. –û—Ç–º–µ—á–∞–π –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞ —Å–µ–≥–æ–¥–Ω—è (–¥–∞–∂–µ —á–∞—Å—Ç–∏—á–Ω–æ).</p>

        <div class="row goalsActions">
          <button id="btnAddGoal" class="btn purple">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É</button>
          <span class="pill ttlInfo" id="ttlInfo">‚Äî</span>
        </div>

        <div id="goalsList" class="goals"></div>

        <div class="muted small" id="modeInfo">–û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º (–ª–æ–∫–∞–ª—å–Ω–æ).</div>
      </section>

      <section class="card historyCard" id="historyCard">
        <h2>–ü—Ä–æ–≥—Ä–µ—Å—Å</h2>
        <p class="muted progressNote">–î–µ–Ω—å –∑–∞—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –¢—ã —á—Ç–æ-—Ç–æ —Å–¥–µ–ª–∞–ª –≤ —ç—Ç–æ—Ç –¥–µ–Ω—å.</p>
    
        <div class="row">
          <div class="streakNum"><span id="streakCount">0</span> <span class="muted">–¥–Ω–µ–π</span></div>
          <span id="todayBadge" class="pill mutedPill">–°–µ–≥–æ–¥–Ω—è –µ—â—ë –Ω–µ –∑–∞—Å—á–∏—Ç–∞–Ω</span>
        </div>

        <div id="calendar" class="calendar"></div>

        <div class="sep"></div>

        <div class="row historyHeader">
          <h2 class="historyTitle">–ò—Å—Ç–æ—Ä–∏—è, —Å–¥–µ–ª–∞–Ω–æ –∑–∞–¥–∞—á: <span id="historyDoneCount">0</span></h2>
          <button class="pill btn ghost" id="historyPdfBtn" type="button">üßæ PDF</button>
        </div>
        <div id="history" class="history"></div>
      </section>
    </main>

    <div id="toast" class="toast" hidden></div>
	<div class="modalBackdrop" id="authModal" hidden>
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="authTitle">
    <h3 id="authTitle">–í—Ö–æ–¥</h3>
    <p class="muted">
      –í–≤–µ–¥–∏ email ‚Äî –ø—Ä–∏–¥—ë—Ç –ø–∏—Å—å–º–æ —Å–æ —Å—Å—ã–ª–∫–æ–π. –û—Ç–∫—Ä–æ–π –µ—ë –Ω–∞ —ç—Ç–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ.
      <br />–ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –¥–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è.
    </p>

    <div class="modalRow">
      <input type="email" id="authEmail" class="input" placeholder="email@example.com" />
      <div class="row">
        <button class="btn purple" id="sendLinkBtn">‚úâÔ∏è –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É</button>
        <button class="btn" id="closeAuthBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
      <div class="muted small" id="authStatus">‚Äî</div>
    </div>
  </div>
</div>

    <div class="modalBackdrop" id="offlineModal" hidden>
      <div class="modal" role="dialog" aria-modal="true" aria-labelledby="offlineTitle">
        <h3 id="offlineTitle">–ú—ã –æ—Ñ—Ñ–ª–∞–π–Ω</h3>
        <p class="muted" id="offlineMessage">–ú—ã –æ—Ñ—Ñ–ª–∞–π–Ω, –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è.</p>
        <div class="row">
          <button class="btn" id="offlineOkBtn">–û–∫</button>
        </div>
      </div>
    </div>

    <div class="modalBackdrop" id="commentModal" hidden>
      <div class="modal" role="dialog" aria-modal="true" aria-labelledby="commentTitle">
        <h3 id="commentTitle">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</h3>
        <textarea id="commentInput" class="textarea" placeholder="–ß—Ç–æ —Å–¥–µ–ª–∞–ª —Å–µ–≥–æ–¥–Ω—è? (2-6 —Å—Ç—Ä–æ–∫)&#10;–ü–æ—Å—Ç–∞–≤—å —á–µ–∫–±–æ–∫—Å, –µ—Å–ª–∏ –∑–∞–¥–∞—á–∞ —Å–¥–µ–ª–∞–Ω–∞ —á–∞—Å—Ç–∏—á–Ω–æ"></textarea>
        <label class="checkboxRow">
          <input type="checkbox" id="commentPartialCheckbox" />
          <span>–°–¥–µ–ª–∞–Ω–æ —á–∞—Å—Ç–∏—á–Ω–æ</span>
        </label>
        <div class="row">
          <button class="btn purple" id="commentSaveBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
          <button class="btn" id="commentCancelBtn">–û—Ç–º–µ–Ω–∞</button>
        </div>
      </div>
    </div>

    <div class="modalBackdrop" id="deleteGoalModal" hidden>
      <div class="modal" role="dialog" aria-modal="true" aria-labelledby="deleteGoalTitle">
        <h3 id="deleteGoalTitle">–£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É?</h3>
        <p class="muted">–ó–∞–¥–∞—á–∞ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –∏—Å—Ç–æ—Ä–∏—é</p>
        <div class="muted small" id="deleteGoalText">‚Äî</div>
        <div class="row">
          <button class="btn danger" id="deleteGoalConfirmBtn">–£–¥–∞–ª–∏—Ç—å</button>
          <button class="btn" id="deleteGoalCancelBtn">–û—Ç–º–µ–Ω–∞</button>
        </div>
      </div>
    </div>

    <div class="modalBackdrop" id="dataChoiceModal" hidden>
      <div class="modal modalWide modalSplit" role="dialog" aria-modal="true" aria-labelledby="dataChoiceTitle">
        <div class="modalHeader">
          <h3 id="dataChoiceTitle">–ù–∞–π–¥–µ–Ω—ã —Ä–∞–∑–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h3>
          <p class="muted">–í –æ–±–ª–∞–∫–µ –∏ –Ω–∞ —ç—Ç–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è. –ß—Ç–æ –æ—Å—Ç–∞–≤–∏—Ç—å?</p>
        </div>
        <div class="modalContent">
          <div class="diffSummary">
            <div class="muted small">–ß—Ç–æ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è:</div>
            <div id="dataChoiceList" class="diffListWrap"></div>
          </div>
        </div>
        <div class="modalFooter">
          <div class="row dataChoiceActions">
            <button class="btn green" id="dataChoiceCloudBtn">–û—Å—Ç–∞–≤–∏—Ç—å –æ–±–ª–∞—á–Ω—ã–µ</button>
            <button class="btn purple" id="dataChoiceLocalBtn">–û—Å—Ç–∞–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</button>
          </div>
        </div>
      </div>
    </div>

    <div class="modalBackdrop" id="mandatoryGoalModal" hidden>
      <div class="modal modalWide modalSplit" role="dialog" aria-modal="true" aria-labelledby="mandatoryGoalTitle">
        <div class="modalHeader">
          <h3 id="mandatoryGoalTitle">–ú–æ—è –≥–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å</h3>
          <p class="muted">–ó–∞–ø–æ–ª–Ω–∏ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è ‚Äî –∏ —Ü–µ–ª—å –ø–æ—è–≤–∏—Ç—Å—è –≤ —à–∞–ø–∫–µ</p>
        </div>
        <div class="modalContent">
          <div class="modalRow">
            <label class="modalField">
              <span class="modalLabel">–ú–æ—è –≥–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å (–Ω–∞ –ø–µ—Ä–∏–æ–¥)</span>
              <input id="mandatoryGoalTitleInput" class="input" maxlength="120" placeholder="–°–¥–µ–ª–∞—Ç—å Ironman 226 –∫ 19 –û–∫—Ç—è–±—Ä—è" />
              <span class="fieldError" id="mandatoryGoalTitleError" hidden>–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª–µ</span>
            </label>
            <label class="modalField">
              <span class="modalLabel">–ö–∞–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç/–º–µ—Ç—Ä–∏–∫–∞</span>
              <input id="mandatoryGoalMetricInput" class="input" maxlength="120" placeholder="–§–∏–Ω–∏—à–∏—Ä–æ–≤–∞–ª —Å —É–ª—ã–±–∫–æ–π –Ω–∞ –ª–∏—Ü–µ )" />
              <span class="fieldError" id="mandatoryGoalMetricError" hidden>–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª–µ</span>
            </label>
            <label class="modalField">
              <span class="modalLabel">–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ (–∑–∞—á–µ–º)</span>
              <textarea id="mandatoryGoalWhyInput" class="textarea" maxlength="800" placeholder="–ù–∞–ø–∏—à–∏ 1‚Äì2 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏–ª–∏ 3 –±—É–ª–ª–µ—Ç–∞."></textarea>
              <span class="fieldError" id="mandatoryGoalWhyError" hidden>–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª–µ</span>
            </label>
            <label class="modalField">
              <span class="modalLabel">–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —à–∞–≥ –Ω–∞ –ø–ª–æ—Ö–æ–π –¥–µ–Ω—å (optional)</span>
              <input id="mandatoryGoalMinStepInput" class="input" maxlength="120" placeholder="–ó–∞–Ω–∏–º–∞–µ–º—Å—è 15 –º–∏–Ω—É—Ç" />
              <span class="fieldError" id="mandatoryGoalMinStepError" hidden>–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª–µ</span>
            </label>
          </div>
        </div>
        <div class="modalFooter">
          <div class="row">
            <button class="btn purple" id="mandatoryGoalSaveBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            <button class="btn" id="mandatoryGoalCancelBtn">–û—Ç–º–µ–Ω–∞</button>
          </div>
        </div>
      </div>
    </div>

    <div class="modalBackdrop" id="principlesModal" hidden>
      <div class="modal modalWide modalSplit" role="dialog" aria-modal="true" aria-labelledby="principlesTitle">
        <div class="modalHeader">
          <h3 id="principlesTitle">–ü—Ä–∏–Ω—Ü–∏–ø—ã –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–∏</h3>
          <p class="muted">–£–∑–Ω–∞–≤–∞–π –∏ –¥–æ–±–∞–≤–ª—è–π –ø—Ä–∏–Ω—Ü–∏–ø—ã (–∞–∫—Å–∏–æ–º—ã) –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–∏</p>
        </div>
        <div class="modalContent">
          <div class="modalRow" id="principlesFields"></div>
          <div class="row">
            <button class="btn ghost" id="principlesAddBtn" type="button">+ –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø</button>
          </div>
        </div>
        <div class="modalFooter">
          <div class="row">
            <button class="btn purple" id="principlesSaveBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            <button class="btn" id="principlesCancelBtn">–û—Ç–º–µ–Ω–∞</button>
          </div>
        </div>
      </div>
    </div>

  </div>

  <!-- libs -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <!-- app -->
  <script type="module" src="./js/app.js"></script>
</body>
</html>











